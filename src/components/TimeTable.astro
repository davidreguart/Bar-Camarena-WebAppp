<section id="timetable" class="w-11/12 md:w-1/3 mx-auto font-[Courier]">
  <div class="text-center">
    <!-- Botón para mostrar/ocultar el ticket -->
    <button id="toggle-button" class="bg-rojo text-blanco py-2 px-4 rounded">
      Mostrar ticket de horarios
    </button>
  </div>
  <!-- Sección de horarios -->
  <div
    id="ticket-section"
    class="bg-blanco py-12 overflow-hidden transition-all duration-500 ease-in-out shadow-xl shadow-negro/30 max-h-0 opacity-0"
  >
    <h2 class="text-3xl font-bold text-center mb-4">NUESTROS HORARIOS</h2>
    <div class="max-w-md mx-auto">
      <p class="text-center mb-6">
        C/ Músico Enrique Casanova, 8<br />
        Ontinyent - 46870<br />
        Tfno: 96 238 42 40<br />
        Bar-Rest. Camarena
      </p>
      <table class="w-full border-collapse">
        <p class="text-center text-xl my-2">MESA:2024</p>
        <thead
          class="border-negro border-t-2 border-b-2 border-dashed-custom text-left"
        >
          <tr>
            <th class="py-2">Unid.</th>
            <th class="py-2">Descripción</th>
            <th class="py-2">De</th>
            <th class="py-2">a</th>
          </tr>
        </thead>
        <tbody>
          {
            [
              "Lunes",
              "Martes",
              "Miércoles",
              "Jueves",
              "Viernes",
              "Sábado",
              "Domingo",
            ].map((day, index) => (
              <tr key={index}>
                <td>{index + 1}</td>
                <td>{day}</td>
                <td>{index < 6 ? "08:30" : "-"}</td>
                <td>{index < 5 ? "16:00" : index === 5 ? "12:00" : "-"}</td>
              </tr>
            ))
          }
        </tbody>
      </table>
      <p
        class="text-center mt-4 border-negro border-t-2 border-b-2 border-dashed-custom p-2"
      >
        Le atendió: Bar-Rest Camarena
      </p>
      <p class="text-center font-bold mt-4">GRACIAS POR SU VISITA</p>
    </div>
  </div>
</section>

<style>
  .border-dashed-custom {
    border-style: dashed;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleButton = document.getElementById("toggle-button");
    const ticketSection = document.getElementById("ticket-section");

    // Inicialmente, el botón debe mostrar "Mostrar ticket de horarios"
    let isTicketVisible = false;

    // Función para mostrar/ocultar el ticket
    const toggleTicket = () => {
      if (isTicketVisible) {
        ticketSection.classList.add("max-h-0");
        ticketSection.classList.remove("max-h-screen");
        ticketSection.classList.add("opacity-0");
        setTimeout(() => {
          ticketSection.style.display = "none"; // Ocultar el ticket después de la animación
        }, 300); // Tiempo de la transición
        toggleButton.textContent = "Mostrar ticket de horarios"; // Cambiar texto del botón
      } else {
        ticketSection.style.display = "block"; // Mostrar el ticket antes de aplicar la animación
        setTimeout(() => {
          ticketSection.classList.remove("max-h-0");
          ticketSection.classList.add("max-h-screen");
          ticketSection.classList.remove("opacity-0");
          ticketSection.classList.add("opacity-100");
        }, 10); // Retardo pequeño para asegurar la aplicación de la transición
        toggleButton.textContent = "Ocultar ticket de horarios"; // Cambiar texto del botón
      }
      isTicketVisible = !isTicketVisible; // Alternar estado
    };

    // Añadir el evento de clic al botón
    toggleButton.addEventListener("click", toggleTicket);
  });
</script>
